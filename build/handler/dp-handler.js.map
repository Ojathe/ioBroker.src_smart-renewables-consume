{
  "version": 3,
  "sources": ["../../src/handler/dp-handler.ts"],
  "sourcesContent": ["import { AdapterInstance } from '@iobroker/adapter-core';\nimport { createObjectBool, createObjectNum } from '../util/create-objects-helper';\n\nexport const EXTERNAL_STATE_LANDINGZONE = {\n\tPV_GENERATION: 'ingoing.pv-generation',\n\tTOTAL_LOAD: 'ingoing.total-load',\n\tBAT_SOC: 'ingoing.bat-soc',\n\tSOLAR_RADIATION: 'ingoing.solar-radiation',\n\tIS_GRID_BUYING: 'ingoing.is-grid-buying',\n\tGRID_LOAD: 'ingoing.grid-load',\n\tBAT_LOAD: 'ingoing.bat-load',\n};\n\nexport const INTERNAL_STATE_EEG = {\n\tBONUS: 'eeg-state.bonus',\n\tLOSS: 'eeg-state.loss',\n\tSOC_LAST_BONUS: 'eeg-state.soc-last-bonus',\n\tOPERATION: 'eeg-state.operation',\n};\n\nexport const createObjects = async (adapter: AdapterInstance): Promise<void> => {\n\tawait createObjectNum(adapter, EXTERNAL_STATE_LANDINGZONE.PV_GENERATION, 0, {\n\t\tdesc: 'The amount of power currently generated',\n\t\tunit: 'kWh',\n\t});\n\n\tawait createObjectNum(adapter, EXTERNAL_STATE_LANDINGZONE.TOTAL_LOAD, 0, {\n\t\tdesc: 'The overall amount of currently consumend power',\n\t\tunit: 'kWh',\n\t});\n\n\tawait createObjectNum(adapter, EXTERNAL_STATE_LANDINGZONE.BAT_SOC, 0, {\n\t\tdesc: 'The battery stand of charge',\n\t\tunit: '%',\n\t});\n\n\tawait createObjectNum(adapter, EXTERNAL_STATE_LANDINGZONE.SOLAR_RADIATION, 0, {\n\t\tdesc: 'The Solar Radiation',\n\t\tunit: 'w\\\\m\u00B2',\n\t});\n\n\tawait createObjectNum(adapter, EXTERNAL_STATE_LANDINGZONE.GRID_LOAD, 0, {\n\t\tdesc: 'The grids load',\n\t\tunit: 'kWh',\n\t});\n\n\tawait createObjectNum(adapter, EXTERNAL_STATE_LANDINGZONE.BAT_LOAD, 0, {\n\t\tdesc: 'The battery load',\n\t\tunit: 'kWh',\n\t});\n\n\tawait createObjectBool(adapter, EXTERNAL_STATE_LANDINGZONE.IS_GRID_BUYING, false, {\n\t\tdesc: 'True, if the System is buying energy from grid (external)',\n\t});\n\t// TODO Battery Power lg-ess-home.0.user.essinfo.common.BATT.dc_power\n\n\tawait createObjectBool(adapter, INTERNAL_STATE_EEG.BONUS, false, {\n\t\tdesc: 'True, if there is more Power then used',\n\t});\n\n\tawait createObjectBool(adapter, INTERNAL_STATE_EEG.LOSS, false, {\n\t\tdesc: 'True, if there is less Power then used',\n\t});\n\n\tawait createObjectBool(adapter, INTERNAL_STATE_EEG.OPERATION, false, {\n\t\tdesc: 'True, if the system should be managed',\n\t});\n\n\tawait createObjectNum(adapter, INTERNAL_STATE_EEG.SOC_LAST_BONUS, 0, {\n\t\tdesc: 'Batteries SoC when the last Bonus was detected',\n\t});\n};\n\nexport const addSubscriptions = (adapter: AdapterInstance, config: ioBroker.AdapterConfig): void => {\n\tadapter.subscribeForeignStates(config.optionSourcePvGeneration);\n\tadapter.subscribeForeignStates(config.optionSourceTotalLoad);\n\tadapter.subscribeForeignStates(config.optionSourceBatterySoc);\n\tadapter.subscribeForeignStates(config.optionSourceSolarRadiation);\n\tadapter.subscribeForeignStates(config.optionSourceIsGridBuying);\n\tadapter.subscribeForeignStates(config.optionSourceIsGridLoad);\n\tadapter.subscribeForeignStates(config.optionSourceBatteryLoad);\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,mCAAkD;AAE3C,MAAM,6BAA6B;AAAA,EACzC,eAAe;AAAA,EACf,YAAY;AAAA,EACZ,SAAS;AAAA,EACT,iBAAiB;AAAA,EACjB,gBAAgB;AAAA,EAChB,WAAW;AAAA,EACX,UAAU;AACX;AAEO,MAAM,qBAAqB;AAAA,EACjC,OAAO;AAAA,EACP,MAAM;AAAA,EACN,gBAAgB;AAAA,EAChB,WAAW;AACZ;AAEO,MAAM,gBAAgB,OAAO,YAA4C;AAC/E,YAAM,8CAAgB,SAAS,2BAA2B,eAAe,GAAG;AAAA,IAC3E,MAAM;AAAA,IACN,MAAM;AAAA,EACP,CAAC;AAED,YAAM,8CAAgB,SAAS,2BAA2B,YAAY,GAAG;AAAA,IACxE,MAAM;AAAA,IACN,MAAM;AAAA,EACP,CAAC;AAED,YAAM,8CAAgB,SAAS,2BAA2B,SAAS,GAAG;AAAA,IACrE,MAAM;AAAA,IACN,MAAM;AAAA,EACP,CAAC;AAED,YAAM,8CAAgB,SAAS,2BAA2B,iBAAiB,GAAG;AAAA,IAC7E,MAAM;AAAA,IACN,MAAM;AAAA,EACP,CAAC;AAED,YAAM,8CAAgB,SAAS,2BAA2B,WAAW,GAAG;AAAA,IACvE,MAAM;AAAA,IACN,MAAM;AAAA,EACP,CAAC;AAED,YAAM,8CAAgB,SAAS,2BAA2B,UAAU,GAAG;AAAA,IACtE,MAAM;AAAA,IACN,MAAM;AAAA,EACP,CAAC;AAED,YAAM,+CAAiB,SAAS,2BAA2B,gBAAgB,OAAO;AAAA,IACjF,MAAM;AAAA,EACP,CAAC;AAGD,YAAM,+CAAiB,SAAS,mBAAmB,OAAO,OAAO;AAAA,IAChE,MAAM;AAAA,EACP,CAAC;AAED,YAAM,+CAAiB,SAAS,mBAAmB,MAAM,OAAO;AAAA,IAC/D,MAAM;AAAA,EACP,CAAC;AAED,YAAM,+CAAiB,SAAS,mBAAmB,WAAW,OAAO;AAAA,IACpE,MAAM;AAAA,EACP,CAAC;AAED,YAAM,8CAAgB,SAAS,mBAAmB,gBAAgB,GAAG;AAAA,IACpE,MAAM;AAAA,EACP,CAAC;AACF;AAEO,MAAM,mBAAmB,CAAC,SAA0B,WAAyC;AACnG,UAAQ,uBAAuB,OAAO,wBAAwB;AAC9D,UAAQ,uBAAuB,OAAO,qBAAqB;AAC3D,UAAQ,uBAAuB,OAAO,sBAAsB;AAC5D,UAAQ,uBAAuB,OAAO,0BAA0B;AAChE,UAAQ,uBAAuB,OAAO,wBAAwB;AAC9D,UAAQ,uBAAuB,OAAO,sBAAsB;AAC5D,UAAQ,uBAAuB,OAAO,uBAAuB;AAC9D;",
  "names": []
}
